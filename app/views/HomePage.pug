extends layout
block style 
  title Home Page
  // CSS links
  link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css")
  link(rel="stylesheet", href="stylesheets/home.css")
  script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" defer)

block content

  div.card.mt-5.mx-auto.w-50
    div.card-body.text-center.py-5
      h5.card-title Your Balance
      p.card-text #{totalBalance}

      // Button to navigate to transaction page
      a.btn.mt-3.text-light(href="/transactions/create") Add New Transaction
  
  // Transaction card section
  div.card.mt-5.mx-auto.w-50.text-light.rounded-2
    div.card-body.text-center
      - if (transactions && transactions.length > 0)
        - transactions.sort((a, b) => b.Date - a.Date)
        - transactions = transactions.slice(0, 5)
        ul.list-unstyled
          each transaction in transactions
            li.py-2
              | Type: #{transaction.Type}, Amount: #{transaction.Amount},
              | Date: #{transaction.Date ? transaction.Date.toISOString().split('T')[0] : 'N/A'}
              | Description: #{transaction.Description}
      - else
        p There are no transactions
      // Button to navigate to edit transaction page
      a.btn.mt-3.text-light(href="/transactions") Edit Transaction
  